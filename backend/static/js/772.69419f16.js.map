{"version":3,"file":"js/772.69419f16.js","mappings":"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","sources":["webpack://tonproject-frontend/./src/views/balance/DepositView.vue","webpack://tonproject-frontend/./src/components/balance/deposit/Deposit.vue","webpack://tonproject-frontend/./src/configs/symbols.js","webpack://tonproject-frontend/./src/components/balance/deposit/Deposit.vue?cc68","webpack://tonproject-frontend/./src/views/balance/DepositView.vue?ff81"],"sourcesContent":["<template>\n  <Deposit />\n</template>\n\n<script>\nimport Deposit from \"@/components/balance/deposit/Deposit.vue\";\n\nexport default {\n  name: \"DepositView\",\n  components: {\n    Deposit,\n  },\n};\n</script>","<template>\n  <div class=\"only_mobile\">\n    <!--    {{ this.user }}-->\n    <!--    {{ this.payment_info }}-->\n    <div class=\"container\">\n      <div class=\"d-flex justify-content-center\">\n        <div class=\"deposit_block\">\n          <h1>\n            Choose asset to top up\n          </h1>\n          <div class=\"deposit_block dropdown_select\" @click=\"choose_asset\">\n            <img class=\"symbol_img\"\n                 v-if=\"this.asset.symbol_img\"\n                 :src=\"this.asset.symbol_img\"\n                 alt=\"\"\n            >\n            <p>{{ this.asset.value }}</p>\n            <img\n                class=\"choose_arrow\"\n                src=\"@/assets/img/icons/balance/dropdown_arrow.svg\"\n                alt=\"\">\n          </div>\n          <div class=\"dropdown_elements\" v-for=\"symbol in this.symbols\" :key=\"symbol\">\n            <div v-if=\"this.is_choosing_asset\"\n                 class=\"dropdown_element\"\n                 @click=\"select_asset(symbol)\">\n              <img class=\"symbol_img\"\n                   :src=\"symbol.symbol_img\"\n                   alt=\"\"\n              >\n              <p>{{ symbol.value }}</p>\n            </div>\n          </div>\n          <div v-if=\"this.payment_info.is_relevant\" class=\"input_wrapper\">\n            <input type=\"number\" class=\"input_amount\" :placeholder=\"this.payment_info.min_amount.toFixed(2)\"\n                   v-model.number=\"payment_amount\"/>\n            <div v-if=\"this.asset.symbol!='btc'\" class=\"min_amount\">Min: {{ this.payment_info.min_amount.toFixed(2) }}\n              {{ this.asset.value }}\n            </div>\n            <div v-else class=\"min_amount\">Min: {{ this.payment_info.min_amount.toFixed(7) }} {{\n                this.asset.value\n              }}\n            </div>\n          </div>\n          <div v-if=\"this.payment_info.is_relevant && !this.payment_info.pay_address\"\n               class=\"pay_button\"\n               @click=\"create_pay_page\">\n            <h1>Top up</h1>\n          </div>\n          <div v-if=\"this.payment_info.pay_address\" class=\"pay_address\">\n            <p v-if=\"this.payment_info.amount_received\">\n              Send {{ this.payment_amount }} {{ this.asset.value }} to this address<br>\n              You will receive {{ this.payment_info.amount_received.toFixed(2) }} Ton after transfer and exchange fees\n            </p>\n            <img\n                class=\"pay_address qr_code\"\n                :src=\"this.payment_info.qr_code_url\"\n                alt=\"\">\n            <p v-for=\"text in this.text_wrapper(this.payment_info.pay_address)\"\n               :key=\"text\" @click=\"copyTextToClipboard(this.payment_info.pay_address)\">\n              {{ text }}\n            </p>\n            <img\n                class=\"copy_img\"\n                :src=\"this.copy_img\"\n                alt=\"\"\n                @click=\"copyTextToClipboard(this.payment_info.pay_address)\"\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport symbolsConfig from \"@/configs/symbols\";\nimport copy from \"@/assets/img/icons/app/copy.svg\";\nimport copy_success from \"@/assets/img/icons/app/copy-success.svg\";\nimport axios from \"axios\";\nimport {Store} from \"@/store\";\n\nexport default {\n  name: 'BalanceDeposit',\n  components: {},\n  data() {\n    return {\n      user: null,\n      is_choosing_asset: false,\n      asset: {\n        symbol: null,\n        symbol_img: null,\n        value: \"Select asset\",\n      },\n      payment_info: {\n        currency_from: null,\n        currency_to: null,\n        min_amount: null,\n        usd_eqivalent: null,\n        is_relevant: false,\n        amount_received: null,\n        pay_address: null,\n        qr_code_url: null\n      },\n      payment_amount: 0,\n      symbols: symbolsConfig,\n      copy_img: copy\n    }\n  },\n  watch: {\n    payment_amount() {\n      this.payment_info.pay_address = null\n    }\n  },\n  methods: {\n    getUserInfo() {\n      this.user = Store().getUser\n    },\n    choose_asset() {\n      this.is_choosing_asset = !this.is_choosing_asset\n      this.payment_info.is_relevant = false\n      this.payment_info.pay_address = null\n    },\n    select_asset(symbol) {\n      this.asset.symbol = symbol.symbol\n      this.asset.symbol_img = symbol.symbol_img\n      this.asset.value = symbol.value\n      this.get_symbol_info(this.asset.symbol)\n      this.choose_asset()\n    },\n    async get_symbol_info(symbol) {\n      try {\n        const response = await axios.get(\n            `${Store().getAPI}/np/min_payment`,\n            {\n              headers: {\n                'X-AUTH': this.user.token,\n              },\n              params: {\n                symbol: symbol,\n              }\n            }\n        );\n        if (response.data.currency_from !== undefined) {\n          this.payment_info.currency_from = response.data.currency_from\n          this.payment_info.currency_to = response.data.currency_to\n          this.payment_info.min_amount = response.data.min_amount\n          this.payment_info.usd_eqivalent = response.data.fiat_equivalent\n          this.payment_info.is_relevant = true\n        }\n      } catch (error) {\n        console.error('Ошибка при выполнении GET запроса:', error);\n        this.$router.push('/error');\n      }\n    },\n    async create_pay_page() {\n      try {\n        const response = await axios.get(\n            `${Store().getAPI}/np/create_payment_page`,\n            {\n              headers: {\n                'X-AUTH': this.user.token,\n              },\n              params: {\n                np_id: this.user.np_id,\n                amount: this.payment_amount,\n                currency_from: this.payment_info.currency_from,\n                currency_to: this.payment_info.currency_to,\n              }\n            }\n        );\n        this.payment_info.pay_address = response.data.pay_address\n        this.payment_info.amount_received = response.data.amount_received\n        this.generate_qr(this.payment_info.pay_address)\n      } catch (error) {\n        console.error('Ошибка при выполнении GET запроса:', error);\n        this.$router.push('/error');\n      }\n    },\n    async generate_qr(text) {\n      try {\n        const response = await axios.get(\n            `${Store().getAPI}/app/generate_qr`,\n            {\n              params: {\n                text: text\n              }, responseType: \"blob\"\n            }\n        );\n        this.payment_info.qr_code_url = URL.createObjectURL(response.data)\n      } catch (error) {\n        console.error('Ошибка при выполнении GET запроса:', error);\n        this.$router.push('/error');\n      }\n    },\n    text_wrapper(str) {\n      let length = str.length;\n      let half = Math.floor(length / 2);\n      let part1 = str.slice(0, half);\n      let part2 = str.slice(half);\n      return [part1, part2];\n    },\n    async copyTextToClipboard(text) {\n      try {\n        await navigator.clipboard.writeText(text);\n        this.copy_img = copy_success;\n      } catch (err) {\n        console.error('Failed to copy: ', err);\n      }\n    },\n    open_dashboard() {\n      this.$router.push('/');\n    }\n  },\n  mounted() {\n    window.Telegram.WebApp.BackButton.isVisible = true;\n    window.Telegram.WebApp.BackButton.onClick(this.open_dashboard.bind(this))\n    this.getUserInfo();\n  }\n}\n</script>\n","import tonSymbol from \"@/assets/img/icons/symbols/ton_symbol.svg\";\nimport usdtSymbol from \"@/assets/img/icons/symbols/usdt_symbol.svg\";\nimport btcSymbol from \"@/assets/img/icons/symbols/btc_symbol.svg\";\nimport trxSymbol from \"@/assets/img/icons/symbols/trx_symbol.svg\";\n\nconst symbolsConfig = [\n    {\n        symbol: \"ton\",\n        symbol_img: tonSymbol,\n        value: \"Ton\"\n    },\n    {\n        symbol: \"usdttrc20\",\n        symbol_img: usdtSymbol,\n        value: \"USDT TRC-20\"\n    },\n    {\n        symbol: \"btc\",\n        symbol_img: btcSymbol,\n        value: \"BTC\"\n    },\n    {\n        symbol: \"trx\",\n        symbol_img: trxSymbol,\n        value: \"TRX\"\n    },\n];\n\nexport default symbolsConfig;","import { render } from \"./Deposit.vue?vue&type=template&id=390af727\"\nimport script from \"./Deposit.vue?vue&type=script&lang=js\"\nexport * from \"./Deposit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DepositView.vue?vue&type=template&id=7631675f\"\nimport script from \"./DepositView.vue?vue&type=script&lang=js\"\nexport * from \"./DepositView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_Deposit","class","_createElementVNode","src","_imports_0","alt","key","_hoisted_14","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","args","$options","choose_asset","asset","symbol_img","_hoisted_6","_createCommentVNode","_toDisplayString","value","_hoisted_7","_Fragment","_renderList","symbols","symbol","is_choosing_asset","$event","select_asset","_hoisted_9","_hoisted_8","payment_info","is_relevant","_hoisted_10","type","placeholder","min_amount","toFixed","$data","payment_amount","_hoisted_11","number","_hoisted_12","_hoisted_13","this","pay_address","create_pay_page","_hoisted_15","_hoisted_16","amount_received","_hoisted_17","_createTextVNode","_hoisted_18","qr_code_url","_hoisted_19","text_wrapper","text","copyTextToClipboard","copy_img","_hoisted_20","symbolsConfig","tonSymbol","usdtSymbol","btcSymbol","trxSymbol","name","components","data","user","currency_from","currency_to","usd_eqivalent","copy","watch","methods","getUserInfo","Store","getUser","get_symbol_info","response","axios","get","getAPI","headers","token","params","undefined","fiat_equivalent","error","console","$router","push","np_id","amount","generate_qr","responseType","URL","createObjectURL","str","length","half","Math","floor","part1","slice","part2","navigator","clipboard","writeText","copy_success","err","open_dashboard","mounted","window","Telegram","WebApp","BackButton","isVisible","bind","__exports__","Deposit","render"],"sourceRoot":""}