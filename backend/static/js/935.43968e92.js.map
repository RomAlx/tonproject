{"version":3,"file":"js/935.43968e92.js","mappings":"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","sources":["webpack://tonproject-frontend/./src/views/balance/HistoryView.vue","webpack://tonproject-frontend/./src/components/balance/history/History.vue","webpack://tonproject-frontend/./src/components/balance/history/History.vue?470e","webpack://tonproject-frontend/./src/views/balance/HistoryView.vue?87be"],"sourcesContent":["<template>\n  <History />\n</template>\n\n<script>\nimport History from \"@/components/balance/history/History.vue\";\n\nexport default {\n  name: \"HistoryView\",\n  components: {\n    History,\n  },\n};\n</script>","<template>\n  <div class=\"only_mobile\">\n    <div class=\"container\">\n      <div class=\"d-flex justify-content-center\">\n        <div class=\"history_block\">\n          <h1>History</h1>\n          <table>\n            <thead>\n            <tr>\n              <th>Payment ID</th>\n              <th>Type</th>\n              <th>Amount</th>\n              <th>Symbol</th>\n              <th>Date</th>\n              <th>Status</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr v-for=\"transaction in this.history\" :key=\"transaction\">\n              <td>{{ transaction.payment_id.slice(0, 2) + '...' + transaction.payment_id.slice(-2) }}</td>\n              <td>\n                <img v-if=\"transaction.type==='deposit'\" :src=\"imgs.deposit\" alt=\"deposit\">\n                <img v-if=\"transaction.type==='withdraw'\" :src=\"imgs.withdraw\" alt=\"withdraw\">\n              </td>\n              <td>{{ transaction.amount.toFixed(2) }}</td>\n              <td>\n                <img v-if=\"transaction.symbol==='Ton'\" :src=\"imgs.ton\" alt=\"ton\">\n              </td>\n              <td>{{ transaction.date }}</td>\n              <td>\n                <img v-if=\"['finished'].includes(transaction.payment_status.toLowerCase())\"\n                     :src=\"imgs.done\" alt=\"done\">\n                <img\n                    v-if=\"['waiting', 'confirming', 'confirmed', 'sending', 'partially_paid', 'created'].includes(transaction.payment_status.toLowerCase())\"\n                    :src=\"imgs.waiting\"\n                    alt=\"waiting\">\n                <img\n                    v-if=\"['failed', 'refunded', 'expired', 'rejected'].includes(transaction.payment_status.toLowerCase())\"\n                    :src=\"imgs.canceled\"\n                    alt=\"canceled\">\n              </td>\n            </tr>\n            </tbody>\n          </table>\n          <div v-if=\"this.history && ! this.is_end\" class=\"button_load\" @click=\"get_history(this.page)\">\n            load more\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {Store} from \"@/store\";\nimport done from \"@/assets/img/icons/history/done.svg\";\nimport canceled from \"@/assets/img/icons/history/canceled.svg\";\nimport waiting from \"@/assets/img/icons/history/waiting.svg\";\nimport deposit from \"@/assets/img/icons/history/deposit.svg\";\nimport withdraw from \"@/assets/img/icons/history/withdraw.svg\";\nimport ton from \"@/assets/img/icons/symbols/ton_symbol.svg\"\n\nexport default {\n  name: 'BalanceHistory',\n  components: {},\n  data() {\n    return {\n      imgs: {\n        //statuses\n        done: done,\n        waiting: waiting,\n        canceled: canceled,\n        // types\n        deposit: deposit,\n        withdraw: withdraw,\n        // symbols\n        ton: ton,\n      },\n      user: null,\n      page: 1,\n      history: [],\n      is_end: 0,\n    }\n  },\n  methods: {\n    getUserInfo() {\n      this.user = Store().getUser\n    },\n    async get_history(page) {\n      try {\n        const response = await axios.get(\n            `${Store().getAPI}/app/get_history`,\n            {\n              headers: {\n                'X-AUTH' : this.user.token,\n              },\n              params: {\n                user_id: this.user.user_id,\n                page: page,\n                per_page: 10,\n              }\n            }\n        );\n        this.history.push(...response.data.result);\n        this.page = response.data.page\n        if (!response.data.result || response.data.result.length === 0) {\n          this.is_end = true\n        }\n      } catch (error) {\n        console.error('Ошибка при выполнении GET запроса:', error);\n        this.$router.push('/error');\n      }\n    },open_dashboard(){\n      this.$router.push('/');\n    }\n  },\n  mounted() {\n    window.Telegram.WebApp.BackButton.isVisible = true;\n    window.Telegram.WebApp.BackButton.onClick(this.open_dashboard.bind(this))\n    this.getUserInfo();\n    this.get_history(1)\n  }\n}\n</script>\n","import { render } from \"./History.vue?vue&type=template&id=03598fd6\"\nimport script from \"./History.vue?vue&type=script&lang=js\"\nexport * from \"./History.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HistoryView.vue?vue&type=template&id=3f04cd3d\"\nimport script from \"./HistoryView.vue?vue&type=script&lang=js\"\nexport * from \"./HistoryView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_History","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","history","transaction","key","_toDisplayString","payment_id","slice","type","src","$data","imgs","deposit","alt","_hoisted_7","_createCommentVNode","withdraw","_hoisted_8","amount","toFixed","symbol","ton","_hoisted_9","date","includes","payment_status","toLowerCase","done","_hoisted_10","waiting","_hoisted_11","canceled","_hoisted_12","is_end","onClick","_cache","$event","$options","get_history","this","page","name","components","data","user","methods","getUserInfo","Store","getUser","response","axios","get","getAPI","headers","token","params","user_id","per_page","push","result","length","error","console","$router","open_dashboard","mounted","window","Telegram","WebApp","BackButton","isVisible","bind","__exports__","History","render"],"sourceRoot":""}