"use strict";(self["webpackChunktonproject_frontend"]=self["webpackChunktonproject_frontend"]||[]).push([[591],{2591:function(t,e,a){a.r(e),a.d(e,{default:function(){return j}});var s=a(3396);function n(t,e,a,n,r,o){const u=(0,s.up)("Withdraw");return(0,s.wg)(),(0,s.j4)(u)}var r=a(9242),o=a(7139),u=a(6731);const i={class:"only_mobile"},d={class:"container"},l={class:"d-flex justify-content-center"},p={class:"withdraw_block"},c=(0,s._)("h1",null," Withdraw ",-1),_={key:0,class:"input_wrapper"},h=(0,s._)("img",{src:u,alt:"Jetton",class:"ton_icon"},null,-1),y={class:"max_amount"},w={key:1,class:"input_wrapper"},m=(0,s._)("h1",null,"Payout",-1),b=[m];function k(t,e,a,n,u,m){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",d,[(0,s._)("div",l,[(0,s._)("div",p,[c,this.user?((0,s.wg)(),(0,s.iD)("div",_,[h,(0,s.wy)((0,s._)("input",{type:"number",class:"input_amount",placeholder:"10","onUpdate:modelValue":e[0]||(e[0]=t=>u.payout_amount=t)},null,512),[[r.nr,u.payout_amount,void 0,{number:!0}]]),(0,s._)("div",y,"Max: "+(0,o.zw)(u.user.user_balance),1)])):(0,s.kq)("",!0),this.user?((0,s.wg)(),(0,s.iD)("div",w,[(0,s.wy)((0,s._)("input",{class:"input_address",placeholder:'Enter your Ton wallet address starting with "EQ"',"onUpdate:modelValue":e[1]||(e[1]=t=>u.payout_address=t)},null,512),[[r.nr,u.payout_address]])])):(0,s.kq)("",!0),this.payout_amount&&this.payout_address?((0,s.wg)(),(0,s.iD)("div",{key:2,class:"payout_button",onClick:e[2]||(e[2]=(...t)=>m.create_payout&&m.create_payout(...t))},b)):(0,s.kq)("",!0)])])])])}a(560);var f=a(4239),v=a(1076),g={name:"BalanceDeposit",components:{},data(){return{user:null,payout_amount:null,payout_address:null}},methods:{async getUserInfo(){this.user=(0,f.y)().getUser},async create_payout(){if(this.payout_amount<=this.user.user_balance)try{const t=await v.Z.post(`${(0,f.y)().getAPI}/np/create_payout`,{user_id:this.user.user_id,payout_amount:this.payout_amount,payout_address:this.payout_address},{headers:{"X-AUTH":this.user.token}});return this.$router.push("/balance/history"),t.data}catch(t){console.error("Ошибка при выполнении GET запроса:",t),this.$router.push("/error")}},open_dashboard(){this.$router.push("/")}},mounted(){window.Telegram.WebApp.BackButton.isVisible=!0,window.Telegram.WebApp.BackButton.onClick(this.open_dashboard.bind(this)),this.getUserInfo()}},U=a(89);const W=(0,U.Z)(g,[["render",k]]);var B=W,D={name:"WithdrawView",components:{Withdraw:B}};const T=(0,U.Z)(D,[["render",n]]);var j=T}}]);
//# sourceMappingURL=591.b25bde90.js.map